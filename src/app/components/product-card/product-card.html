<div
  class="bg-white rounded-lg shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-2 max-w-xs"
>
  <!-- Imagen del producto -->
  <div
    [routerLink]="['/shop', 'product-detail', product.id]"
    class="relative h-40 sm:h-50 md:h-60 overflow-hidden bg-gray-100 cursor-pointer hover:opacity-80 transition-opacity duration-300"
  >
    <img
      [src]="product.image"
      [alt]="product.name"
      class="w-full h-full object-cover"
      loading="lazy"
    />

    <!-- Badge de estado -->
    <div
      class="absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold text-white uppercase shadow-md"
      [ngClass]="getStatusClass()"
    >
      {{ getStatusText() }}
    </div>

    <!-- Badge de sin stock -->
    @if (isOutOfStock()) {
    <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center">
      <span class="text-white text-2xl font-bold">SIN STOCK</span>
    </div>
    }
  </div>

  <!-- Contenido del producto -->
  <div class="py-3 px-3 md:px-6">
    <!-- Nombre del producto -->
    <h3 class="text-sm md:text-xl font-bold text-gray-800 line-clamp-2 min-h-12">
      {{ product.name }}
    </h3>
    <span class="inline-block px-3 py-1 mb-2 bg-gray-200 text-black text-xs font-medium rounded-full">
      {{ product.category }}
    </span>
    <!-- Botón agregar al carrito -->
    <div class="flex justify-between items-center">
      <!-- Precio a la izquierda -->
      <span class="text-md md:text-xl font-bold text-black rounded-lg">
        S/ {{ product.price }}
      </span>

      <!-- Botón del carrito a la derecha -->
      <button
        (click)="addToCart()"
        [disabled]="isOutOfStock()"
        class="p-2 rounded-lg font-semibold text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed bg-gray-700 hover:bg-black active:scale-95"
      >
        <lucide-icon [img]="shoppingCartIcon" class="h-4 w-4"></lucide-icon>
      </button>
    </div>
  </div>
</div>
