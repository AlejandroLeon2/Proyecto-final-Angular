<div class="flex min-h-screen w-full items-center justify-center bg-white p-4">
  <div class="container mx-auto">
    <button (click)="goBack()"
      class="mb-2 text-black hover:scale-105 active:scale-95 duration-300 font-medium flex items-center gap-2 transition">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Volver
    </button>
    <div class="grid grid-cols-1 lg:grid-cols-2 items-center max-w-4xl mx-auto shadow-lg rounded-xl overflow-hidden">
      <div class="flex items-center mx-auto lg:hidden gap-4">
        <app-icon-tienda />
      </div>
      <!-- Lado de la Imagen -->
      <div class="hidden lg:flex flex-col h-full p-8 sm:p-12">
        <!-- Icono y Título -->

        <div class="lg:flex items-center hidden gap-4 mb-6">
          <app-icon-tienda />
        </div>

        <!-- Imagen -->
        <div class="flex-1 h-full">
          <img alt="Stylish person wearing sunglasses" class="rounded-xl object-cover w-full h-full max-h-[600px]"
            src="/images/auge.png" />
        </div>
      </div>

      <!-- Formulario -->
      <div class="flex flex-col justify-center p-8 sm:p-12">
        <div class="max-w-md mx-auto w-full">
          <h1 class="text-slate-800 text-3xl font-bold mb-2">Crea Tu Cuenta</h1>
          <p class="text-slate-600 text-base font-normal leading-normal mb-8">
            Únete para comenzar tu viaje de compras.
          </p>

          <!-- Formulario Reactivo de Angular -->
          <form class="flex flex-col gap-4" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <!-- Nombre Completo -->
            <label class="flex flex-col w-full">
              <p class="text-slate-800 text-sm font-medium leading-normal pb-2">Nombre Completo</p>
              <input
                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 focus:outline-0 focus:ring-2 focus:ring-[#4F46E5]/50 bg-white h-12 placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal border border-[#4F46E5]"
                placeholder="Ingresa tu nombre completo" formControlName="name" />

              <!-- Si (@if) el campo name es inválido Y (&&) el usuario ya ha escrito en él (dirty) O (||) ya lo ha tocado (touched)... entonces muestra el bloque de error -->
              @if (name?.invalid && (name?.dirty || name?.touched)) {
              <p class="text-red-500 text-sm mt-1">
                <!-- Si el error específico es el de 'requerido', muestra el texto 'El nombre es requerido -->
                @if (name?.errors?.['required']) { El nombre es requerido. }
                @if (name?.errors?.['pattern']) { Solo se permiten letras y espacios. }
              </p>
              }
            </label>

            <!-- Correo Electrónico -->
            <label class="flex flex-col w-full">
              <p class="text-slate-800 text-sm font-medium leading-normal pb-2">
                Correo Electrónico
              </p>
              <input
                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 focus:outline-0 focus:ring-2 focus:ring-[#4F46E5]/50 bg-white h-12 placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal border border-[#4F46E5]"
                placeholder="you@example.com" type="email" formControlName="email" />
              @if (email?.invalid && (email?.dirty || email?.touched)) {
              <p class="text-red-500 text-sm mt-1">
                @if (email?.errors?.['required']) { El email es requerido. } @if
                (email?.errors?.['email']) { El formato del email no es válido. }
              </p>
              }
            </label>

            <!-- Contraseña -->
            <label class="flex flex-col w-full">
              <p class="text-slate-800 text-sm font-medium leading-normal pb-2">Contraseña</p>
              <input
                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 focus:outline-0 focus:ring-2 focus:ring-[#4F46E5]/50 bg-white h-12 placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal border border-[#4F46E5]"
                placeholder="Ingresa tu contraseña" type="password" formControlName="password" />
              @if (password?.invalid && (password?.dirty || password?.touched)) {
              <p class="text-red-500 text-sm mt-1">
                @if (password?.errors?.['required']) { La contraseña es requerida. } @if
                (password?.errors?.['minlength']) { Debe tener al menos 6 caracteres. } @if
                (password?.errors?.['pattern']) { Mayúscula, número y carácter especial. }
              </p>
              } @else {
              <p class="text-slate-500 text-xs mt-1.5">6+ caracteres, mayúscula, número, especial.</p>
              }
            </label>

            <!-- Confirmar Contraseña -->
            <label class="flex flex-col w-full">
              <p class="text-slate-800 text-sm font-medium leading-normal pb-2">Confirmar Contraseña</p>
              <input
                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-800 focus:outline-0 focus:ring-2 focus:ring-[#4F46E5]/50 bg-white h-12 placeholder:text-slate-500 p-[15px] text-base font-normal leading-normal border border-[#4F46E5]"
                placeholder="Confirma tu contraseña" type="password" formControlName="confirmPassword" />
              @if (registerForm.errors?.['notMatching'] && (confirmPassword?.dirty || confirmPassword?.touched)) {
              <p class="text-red-500 text-sm mt-1">
                Las contraseñas no coinciden.
              </p>
              }
            </label>

            <!-- Términos y Condiciones -->
            <label class="flex items-center gap-2 mt-2">
              <input type="checkbox" formControlName="terms"
                class="w-4 h-4 text-[#F29706] border-gray-300 rounded focus:ring-[#F29706]">
              <span class="text-slate-600 text-sm">Acepto los <a href="#"
                  class="text-[#4F46E5] hover:underline">Términos y Condiciones</a></span>
            </label>
            @if (terms?.invalid && (terms?.dirty || terms?.touched)) {
            <p class="text-red-500 text-sm ml-6">
              Debes aceptar los términos.
            </p>
            }

            <!-- Botón de Registro -->
            <button
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-4 bg-[#F29706] text-white text-base font-bold leading-normal tracking-[0.015em] w-full mt-4 hover:bg-[#F29706]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F29706]/50 disabled:opacity-50"
              [disabled]="registerForm.invalid">
              <span class="truncate">Registrarse</span>
            </button>
          </form>

          <p class="text-center text-sm text-slate-600 mt-8">
            ¿Ya tienes una cuenta? 
            <!-- Enlace de Angular Router -->
            <a class="font-semibold text-[#4F46E5] hover:underline" routerLink="/login">Inicia sesión</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>